{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\ismse\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\SERGO\\\\Desktop\\\\ismse\\\\src\\\\components\\\\Person\\\\Person.jsx\";\nimport React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from '@material-ui/core/Card';\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport GridForm from \"../GridForm/GridForm.jsx\";\nimport Address from \"../Address/Address.jsx\"; // import NumberFormat from 'react-number-format';\n// import PropTypes from 'prop-types';\n\nimport swal from 'sweetalert'; // https://sweetalert.js.org/guides/\n\nimport Input from '@material-ui/core/Input';\nimport MaskedInput from 'react-text-mask';\nimport { MuiPickersUtilsProvider, DatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport ruLocale from \"date-fns/locale/ru\"; // function NumberFormatCustom(props) {\n//   const {inputRef, onChange, ...other} = props;\n//   return (\n//     <NumberFormat\n//       {...other}\n//       getInputRef={inputRef}\n//       onValueChange={values => {\n//         onChange({\n//           target: {\n//             value: values.value,\n//           },\n//         });\n//       }}\n//       decimalSeparator={','} \n//       isNumericString\n//     />\n//   );\n// }\n// NumberFormatCustom.propTypes = {\n//   inputRef: PropTypes.func.isRequired,\n//   onChange: PropTypes.func.isRequired,\n// }\n\nfunction PassportSeriesMask(props) {\n  const inputRef = props.inputRef,\n        other = _objectWithoutProperties(props, [\"inputRef\"]);\n\n  return React.createElement(MaskedInput, Object.assign({}, other, {\n    ref: ref => {\n      inputRef(ref ? ref.inputElement : null);\n    },\n    mask: [/[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/],\n    placeholderChar: '\\u2000' // showMask\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }));\n}\n\nfunction PassportNoMask(props) {\n  const inputRef = props.inputRef,\n        other = _objectWithoutProperties(props, [\"inputRef\"]);\n\n  return React.createElement(MaskedInput, Object.assign({}, other, {\n    ref: ref => {\n      inputRef(ref ? ref.inputElement : null);\n    },\n    mask: [/[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/],\n    placeholderChar: '\\u2000' // showMask\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }));\n}\n\nvar showScanComponent = false;\n\nclass Person extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentChange = event => {\n      // console.log(\"TARGET\", event.target)\n      let fieldValue = this.state.fieldValue;\n      let maxLength = this.checkLength(event.target.name); // console.log(\"MAXL\", event.target.name, maxLength)\n\n      if (event.target.value.length > maxLength) {\n        let maxValue = event.target.value.substring(0, maxLength);\n        fieldValue[event.target.name] = maxValue;\n        this.setState({\n          fieldValue: fieldValue\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      let fieldValue = this.state.fieldValue;\n      fieldValue[event.target.name] = event.target.value;\n      this.setState({\n        fieldValue: fieldValue\n      });\n\n      if (this.state.subDocument === true) {\n        this.props.changeSubDocument(event.target.name, event.target.value);\n      }\n    };\n\n    this.buttonClick = event => {\n      // console.log(\"Event\", event.currentTarget.name)\n      if (event.currentTarget.name === \"findDocument\") {\n        const filterDocument = {\n          attributes: this.getFieldValues()\n        };\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          docDefId: this.state.documentViewForm.Form.docDefId,\n          variables: {\n            userAction: {\n              value: \"findDocument\"\n            },\n            doc: {\n              value: JSON.stringify(filterDocument)\n            },\n            userId: {\n              value: this.state.userId\n            },\n            userRole: {\n              value: this.state.userRole\n            },\n            size: {\n              value: 10\n            },\n            page: {\n              value: 1\n            }\n          }\n        };\n        console.log(\"button findDocument Person: \", commandJson);\n        this.sendFieldValues(commandJson);\n      } else if (event.currentTarget.name === \"createDocument\") {\n        const createDocument = {\n          attributes: this.getFieldValuesToCreateDoc()\n        };\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"createDocument\"\n            },\n            doc: {\n              value: JSON.stringify(createDocument)\n            },\n            userId: {\n              value: this.state.userId\n            },\n            userRole: {\n              value: this.state.userRole\n            }\n          }\n        };\n        console.log(\"Create Document: \", commandJson);\n        this.clearTabData(this.state.process_id); // this.setState({documentViewForm: null})\n\n        this.sendFieldValues(commandJson);\n      } else if (event.currentTarget.name === \"saveDocument\") {\n        const createDocumentNRSZ = this.getFieldValuesNRSZ();\n        const createDocument = {\n          attributes: this.getFieldValues()\n        };\n        let age = this.getPersonAge();\n        const Adult = age >= 18 ? \"True\" : \"False\";\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"saveDocument\"\n            },\n            docNRSZ: {\n              value: JSON.stringify(createDocumentNRSZ)\n            },\n            doc: {\n              value: JSON.stringify(createDocument)\n            },\n            userId: {\n              value: this.state.userId\n            },\n            userRole: {\n              value: this.state.userRole\n            },\n            docDefId: {\n              value: this.state.documentViewForm.Form.docDefId\n            },\n            regionNo: {\n              value: this.state.fieldValue[\"Region\"]\n            },\n            districtNo: {\n              value: this.state.fieldValue[\"District\"]\n            },\n            adult: {\n              value: Adult\n            }\n          }\n        };\n        console.log(\"button saveDocument: \", commandJson); // this.clearTabData(this.state.process_id)\n\n        this.checkForEmptyFields(commandJson);\n      } else if (event.currentTarget.name === \"deleteDocument\") {\n        // const filterDocument = {attributes: this.getFieldValues()}\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"deleteDocument\"\n            },\n            docId: {\n              value: this.state.documentViewFormData.id\n            },\n            userId: {\n              value: this.state.userId\n            },\n            userRole: {\n              value: this.state.userRole\n            }\n          }\n        };\n        console.log(\"button deleteDocument: \", commandJson);\n        this.sendFieldValues(commandJson);\n      } else if (event.currentTarget.name === \"updateDocument\") {\n        const updateDocument = {\n          attributes: this.getFieldValues()\n        };\n        let age = this.getPersonAge();\n        const Adult = age >= 18 ? \"True\" : \"False\";\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"updateDocument\"\n            },\n            doc: {\n              id: {\n                value: this.state.documentViewFormData.id\n              },\n              value: JSON.stringify(updateDocument)\n            },\n            userId: {\n              value: this.state.userId\n            },\n            userRole: {\n              value: this.state.userRole\n            },\n            adult: {\n              value: Adult\n            }\n          }\n        };\n        console.log(\"button updateDocument: \", commandJson);\n        this.sendFieldValues(commandJson);\n      } else if (event.currentTarget.name === \"cancel\") {\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"cancel\"\n            },\n            docId: {\n              value: \"null\"\n            }\n          }\n        };\n        this.sendFieldValues(commandJson); // this.clearTabData(this.state.process_id)\n        // this.closeTab(this.state.process_id)\n\n        console.log(\"Button cancel\", commandJson);\n      } else if (event.currentTarget.name === \"back\") {\n        const commandJson = {\n          commandType: \"completeTask\",\n          session_id: this.state.session_id,\n          process_id: this.state.process_id,\n          taskID: this.state.taskID,\n          variables: {\n            userAction: {\n              value: \"back\"\n            }\n          }\n        };\n        this.sendFieldValues(commandJson);\n        console.log(\"Button back\");\n      }\n    };\n\n    this.countryChange = event => {\n      let fieldValue = this.state.fieldValue;\n      fieldValue[event.target.name] = event.target.value;\n      fieldValue[\"Region\"] = null;\n      fieldValue[\"District\"] = null; // console.log(\"Country selected\", event.target.name)\n\n      this.setState({\n        fieldValue: fieldValue\n      });\n    };\n\n    this.regionChange = event => {\n      let fieldValue = this.state.fieldValue;\n      fieldValue[event.target.name] = event.target.value;\n      fieldValue[\"District\"] = null; // console.log(\"Region selected\", event.target.name)\n\n      this.setState({\n        fieldValue: fieldValue\n      });\n    };\n\n    this.districtChange = event => {\n      let fieldValue = this.state.fieldValue;\n      fieldValue[event.target.name] = event.target.value; // console.log(\"District selected\", event.target.name)\n\n      this.setState({\n        fieldValue: fieldValue\n      });\n    };\n\n    this.passportSeriesChange = event => {\n      // event.preventDefault()\n      var value = event.target.value.trim(); // console.log(\"PasportSer\", event.target.value)\n\n      let fieldValue = this.state.fieldValue;\n      fieldValue[event.target.name] = value;\n      this.setState({\n        fieldValue: fieldValue\n      }); // if(value === \"\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\"){\n      //   // console.log(\"PasportSer null\")\n      //   let fieldValue = this.state.fieldValue\n      //   fieldValue[event.target.name] = null\n      //   this.setState({fieldValue: fieldValue})\n      // }\n      // else{\n      //   for(let i=value.length; i>0; i--){\n      //     let lastChar = value.substring(i -1, i)\n      //     // console.log(\"LAST\", lastChar)\n      //     if(lastChar !== '\\u2000'){\n      //       let fieldValue = this.state.fieldValue\n      //       fieldValue[event.target.name] = value\n      //       this.setState({fieldValue: fieldValue})\n      //       break\n      //     }\n      //     value = value.substring(0, value.length -1)\n      //   }\n      // }\n    };\n\n    this.state = {\n      documentViewForm: null,\n      documentViewFormData: null,\n      subDocument: false,\n      fieldValue: {},\n      process_id: this.props.process_id,\n      session_id: this.props.session_id,\n      organizationId: this.props.organizationId,\n      taskID: this.props.taskID,\n      enumData: [],\n      buttons: null,\n      gridFormButtons: null,\n      userId: this.props.userId,\n      userRole: this.props.userRole,\n      formType: null,\n      formSize: 6,\n      docList: null,\n      size: this.props.size,\n      page: this.props.page,\n      ws: null\n    };\n    this.sendFieldValues = this.sendFieldValues.bind(this);\n    this.clearTabData = this.clearTabData.bind(this);\n    this.rowsPerPageChange = this.rowsPerPageChange.bind(this);\n    this.rowsPageChange = this.rowsPageChange.bind(this);\n    this.handleCloseCurrentTab = this.handleCloseCurrentTab.bind(this);\n  }\n\n  handleCloseCurrentTab(process_id) {\n    this.props.handleCloseCurrentTab(process_id);\n  }\n\n  clearTabData(process_id) {\n    this.props.clearTabData(process_id);\n  }\n\n  async componentDidMount() {\n    console.log(\"PERSON PROPS\", this.props);\n\n    if (this.state.documentViewForm === null) {\n      this.setDataFromProps();\n    }\n  }\n\n  async componentDidUpdate() {\n    if (this.state.documentViewForm === null) {\n      this.setDataFromProps();\n    }\n  }\n\n  async setDataFromProps() {\n    let fstate = this.state;\n    fstate.documentViewForm = this.props.documentViewForm;\n    fstate.formType = this.props.formType;\n    fstate.gridFormButtons = this.props.gridFormButtons;\n\n    if (this.props.docList !== null && this.props.docList !== \"null\" && this.props.docList !== undefined) {\n      fstate.docList = JSON.parse(this.props.docList);\n    }\n\n    if (this.props.subDocument !== undefined) {\n      fstate.subDocument = this.props.subDocument;\n\n      if (this.props.subDocument === true) {\n        fstate.formSize = 12;\n      }\n    }\n\n    if (this.props.buttons !== undefined) {\n      fstate.buttons = this.props.buttons;\n    }\n\n    if (this.props.enumData !== undefined && this.props.enumData !== null) {\n      fstate.enumData = this.props.enumData;\n\n      if (this.props.selectedDoc !== null && this.props.selectedDoc !== undefined) {\n        fstate.documentViewFormData = this.props.selectedDoc; // console.log(\"SELDOC\", this.props.selectedDoc)\n\n        const docAttr = this.props.selectedDoc.attributes;\n\n        for (var i = 0; i < docAttr.length; i++) {\n          fstate.fieldValue[docAttr[i].name] = docAttr[i].value;\n        }\n\n        for (let i = 0; i < docAttr.length; i++) {\n          fstate.fieldValue[docAttr[i].name] = docAttr[i].value;\n\n          if (this.state.enumData === null) {\n            if (docAttr[i].type === \"Enum\") {\n              fstate.fieldValue[docAttr[i].name] = docAttr[i].enumValueText;\n            }\n          }\n        }\n      }\n    }\n\n    if (this.props.enumData === undefined || this.props.enumData === null) {\n      fstate.enumData = null;\n    }\n\n    this.setState(fstate);\n\n    if (fstate.fieldValue[\"Country\"] === undefined) {\n      fstate.fieldValue[\"Country\"] = \"4170000000000\";\n    }\n\n    this.setState(fstate);\n  }\n\n  sendFieldValues(commandJson) {\n    this.props.sendFieldValues(commandJson);\n  } // passportSeriesChange=(event)=>{\n  //   let value = event.target.value\n  //   const regex = /[a-zA-z]/\n  //   const chars = event.target.value.split('')\n  //   const char = chars.pop()\n  //   if(!regex.test(char)){\n  //     console.log(\"not valid\", char)\n  //   }\n  //   else{\n  //     let fieldValue = this.state.fieldValue\n  //     fieldValue[event.target.name] = value\n  //     this.setState({fieldValue: fieldValue})\n  //   }\n  // }\n\n\n  checkLength(name) {\n    for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\n      if (name === this.state.documentViewForm.Form.attributes[i].name) {\n        return this.state.documentViewForm.Form.attributes[i].maxLength;\n      }\n    }\n  }\n\n  handleDateTimeChange(date, name) {\n    // console.log(\"EV\", date, name)\n    let fieldValue = this.state.fieldValue;\n\n    if (date !== null) {\n      var newDate = new Date(date);\n      var dd = String(newDate.getDate()).padStart(2, '0');\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n      var yyyy = newDate.getFullYear();\n      var convertedDate = String(dd + '.' + mm + '.' + yyyy); // console.log(\"CDATE\", convertedDate)\n\n      fieldValue[name] = convertedDate;\n      if (this.state.subDocument === true) this.props.changeSubDocument(name, convertedDate);\n      this.setState({\n        fieldValue: fieldValue\n      });\n    } else {\n      fieldValue[name] = undefined;\n      if (this.state.subDocument === true) this.props.changeSubDocument(name, convertedDate);\n      this.setState({\n        fieldValue: fieldValue\n      });\n    } // let fieldValue = this.state.fieldValue\n    // var newDate = new Date(event.target.value)\n    // var dd = String(newDate.getDate()).padStart(2, '0')\n    // var mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\n    // var yyyy = newDate.getFullYear()\n    // var convertedDate = String(dd + '.' + mm + '.' + yyyy)\n    // fieldValue[event.target.name] = convertedDate\n    // if (this.state.subDocument === true)  this.props.changeSubDocument(event.target.name, convertedDate)\n    // this.setState({fieldValue: fieldValue})\n\n  }\n\n  parseDate(date) {\n    // Parsing DAteTime to appropriate format\n    if (date !== undefined && date !== null) {\n      var dd = date.substring(0, 2);\n      var mm = date.substring(3, 5);\n      var yyyy = date.substring(6, 10);\n      var convertedDate = String(yyyy + '-' + mm + '-' + dd);\n      var newDate = new Date(convertedDate); // \"2017-01-26\"\n\n      dd = String(newDate.getDate()).padStart(2, '0');\n      mm = String(newDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n      yyyy = newDate.getFullYear();\n      convertedDate = yyyy + '-' + mm + '-' + dd;\n    } // console.log(\"DATE\", convertedDate)\n\n\n    return convertedDate;\n  }\n\n  getEnumValues(enumDef) {\n    // Get items to show in \"Select\" component\n    // console.log(\"ENUM value search\", this.state.enumData)\n    for (let i = 0; i < this.state.enumData.length; i++) if (this.state.enumData[i].enumDef === enumDef) {\n      return this.state.enumData[i].data;\n    }\n\n    return null;\n  }\n\n  rowsPerPageChange(size) {\n    // Hendler of selected amount of rows to show on Table form\n    const filterDocument = {\n      attributes: this.getFieldValues()\n    };\n    const commandJson = {\n      commandType: \"completeTask\",\n      session_id: this.state.session_id,\n      process_id: this.state.process_id,\n      taskID: this.state.taskID,\n      docDefId: this.state.documentViewForm.Form.docDefId,\n      variables: {\n        userAction: {\n          value: \"findDocument\"\n        },\n        doc: {\n          value: JSON.stringify(filterDocument)\n        },\n        size: {\n          value: size\n        },\n        page: {\n          value: 1\n        }\n      }\n    };\n    this.sendFieldValues(commandJson);\n  }\n\n  getButton(button, index) {\n    // Create buttons related to form\n    if (button.name === \"attachDocument\") return showScanComponent = true;else return React.createElement(Button, {\n      name: button.name,\n      variant: \"outlined\",\n      style: {\n        margin: 3,\n        backgroundColor: button.backgroundColor,\n        height: 32,\n        fontSize: 12\n      },\n      onClick: this.buttonClick,\n      value: button.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, button.label);\n  }\n\n  getFieldValuesNRSZ() {\n    // Collect data to create document in NRSZ DB\n    var attributes = {}; // console.log(\"Docview form GET\", this.state.documentViewForm)\n\n    for (var key in this.state.fieldValue) {\n      if (key !== \"Country\" && key !== \"Region\" && key !== \"District\") {\n        if (key === \"Date_of_Issue\" || key === \"Date_of_Birth\") {\n          attributes[key] = this.parseDate(this.state.fieldValue[key]);\n        } else attributes[key] = this.state.fieldValue[key];\n      }\n    } // console.log(\"Variables\", attributes)\n\n\n    return attributes;\n  }\n\n  getFieldValues() {\n    // Collect all data from form fields\n    var attributes = []; // console.log(\"Docview form GET\", this.state.documentViewForm)\n\n    for (var key in this.state.fieldValue) {\n      if (key !== \"Country\" && key !== \"Region\" && key !== \"District\") {\n        for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\n          if (key === this.state.documentViewForm.Form.attributes[i].name) {\n            attributes.push({\n              name: this.state.documentViewForm.Form.attributes[i].name,\n              value: this.state.fieldValue[key],\n              type: this.state.documentViewForm.Form.attributes[i].type\n            });\n          }\n        }\n      } // console.log(\"item\",key)\n\n    } // console.log(\"Variables\", attributes)\n\n\n    return attributes;\n  }\n\n  getFieldValuesToCreateDoc() {\n    // Collect all data from form fields\n    var attributes = []; // console.log(\"Docview form GET\", this.state.documentViewForm)\n\n    for (var key in this.state.fieldValue) {\n      if (key !== \"IIN\") {\n        for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\n          if (key === this.state.documentViewForm.Form.attributes[i].name) {\n            attributes.push({\n              name: this.state.documentViewForm.Form.attributes[i].name,\n              value: this.state.fieldValue[key],\n              type: this.state.documentViewForm.Form.attributes[i].type\n            });\n          }\n        }\n      }\n    }\n\n    return attributes;\n  }\n\n  checkForEmptyFields(commandJson) {\n    // Controls on obligated fields\n    if (this.state.fieldValue[\"Last_Name\"] !== \"\" && this.state.fieldValue[\"Last_Name\"] !== undefined) {\n      if (this.state.fieldValue[\"Date_of_Birth\"] !== \"01.01.1970\" && this.state.fieldValue[\"Date_of_Birth\"] !== undefined) {\n        if (this.state.fieldValue[\"Sex\"] !== null && this.state.fieldValue[\"Sex\"] !== undefined) {\n          if (this.state.fieldValue[\"FamilyState\"] !== null && this.state.fieldValue[\"FamilyState\"] !== undefined) {\n            if (this.state.fieldValue[\"PassportType\"] !== null && this.state.fieldValue[\"PassportType\"] !== undefined) {\n              // if(this.state.fieldValue[\"PassportSeries\"] !== \"\" && this.state.fieldValue[\"PassportSeries\"] !== undefined){\n              //   if(this.state.fieldValue[\"PassportNo\"] !== \"\" && this.state.fieldValue[\"PassportNo\"] !== undefined){\n              if (this.state.fieldValue[\"Issuing_Authority\"] !== \"\" && this.state.fieldValue[\"Issuing_Authority\"] !== undefined) {\n                if (this.state.fieldValue[\"Date_of_Issue\"] !== \"01.01.1970\" && this.state.fieldValue[\"Date_of_Issue\"] !== undefined) {\n                  if (this.state.fieldValue[\"Region\"] !== null && this.state.fieldValue[\"Region\"] !== undefined) {\n                    if (this.state.fieldValue[\"District\"] !== null && this.state.fieldValue[\"District\"] !== undefined) {\n                      // this.sendFieldValues(commandJson)\n                      this.chekForExsistedPersonPassport(commandJson);\n                    } else this.swAlert(\"Пожалуйста заполните поле \\\"Район\\\"\");\n                  } else this.swAlert(\"Пожалуйста заполните поле \\\"Область\\\"\");\n                } else this.swAlert(\"Пожалуйста заполните поле \\\"Дата выдачи\\\"\");\n              } else this.swAlert(\"Пожалуйста заполните поле \\\"Выдавший орган\\\"\"); //   }else this.swAlert(\"Пожалуйста заполните поле \\\"Номер\\\"\")\n              // }else this.swAlert(\"Пожалуйста заполните поле \\\"Серия\\\"\")\n\n            } else this.swAlert(\"Пожалуйста заполните поле \\\"Типы удостоверяющих документов\\\"\");\n          } else this.swAlert(\"Пожалуйста заполните поле \\\"Семейное положение\\\"\");\n        } else this.swAlert(\"Пожалуйста заполните поле \\\"Пол\\\"\");\n      } else this.swAlert(\"Пожалуйста заполните поле \\\"Дата рождения\\\"\");\n    } else this.swAlert(\"Пожалуйста заполните поле \\\"Фамилия\\\"\");\n  }\n\n  async chekForExsistedPersonPassport(commandJson) {\n    var Passport = {\n      attributes: [{\n        name: \"PassportNo\",\n        value: this.state.fieldValue[\"PassportNo\"],\n        type: \"Text\"\n      }]\n    };\n    await fetch(\"api/Document/FilterDocumentsByDefId?defId=\" + this.state.documentViewForm.Form.docDefId + \"&size=10&page=1&userId=\" + this.state.userId, {\n      headers: {\n        \"Accept\": \"application/x-www-form-urlencoded\",\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\",\n      body: JSON.stringify(Passport) // mode: 'no-cors'\n\n    }).then(response => {\n      console.log(\"CHK PASPORT\", response);\n      response.text().then(string => {\n        var document = JSON.parse(string);\n\n        if (document.length === 0) {\n          this.clearTabData(this.state.process_id);\n          this.sendFieldValues(commandJson);\n        } else this.swAlert(\"Гражданин с таким номером пасспорта уже существует!\"); // console.log(\"RESPONSE\", document)\n\n      });\n    });\n  }\n\n  getUUID() {\n    const uuidv1 = require(\"uuid/v1\");\n\n    return uuidv1();\n  }\n\n  swAlert(text) {\n    return swal({\n      text: text,\n      icon: \"warning\",\n      buttons: {\n        ok: \"Ок\"\n      } // dangerMode: true,\n\n    }).then(click => {\n      if (click === \"ok\") {\n        console.log(\"CLICK OK\", click);\n      }\n    });\n  }\n\n  getPersonAge() {\n    var birthday = new Date(this.parseDate(this.state.fieldValue[\"Date_of_Birth\"]));\n    var ageDifMs = Date.now() - birthday.getTime();\n    var ageDate = new Date(ageDifMs); // miliseconds from epoch\n\n    var fullAge = Math.abs(ageDate.getUTCFullYear() - 1970);\n    console.log(\"AGE\", fullAge);\n    return fullAge;\n  }\n\n  rowsPageChange(size, page) {\n    // console.log(\"Rows changed: \", size)\n    const filterDocument = {\n      attributes: this.getFieldValues()\n    };\n    const commandJson = {\n      commandType: \"completeTask\",\n      session_id: this.state.session_id,\n      process_id: this.state.process_id,\n      taskID: this.state.taskID,\n      docDefId: this.state.documentViewForm.Form.docDefId,\n      variables: {\n        userAction: {\n          value: \"findDocument\"\n        },\n        doc: {\n          value: JSON.stringify(filterDocument)\n        },\n        size: {\n          value: size\n        },\n        page: {\n          value: page\n        }\n      }\n    }; // console.log(\"JSON Collected: \", commandJson)\n\n    this.sendFieldValues(commandJson);\n  }\n\n  getComponent(fieldItem) {\n    // Create form component by it's \"type\"   \n    if (fieldItem.type === \"Text\") {\n      // if(fieldItem.name === \"PassportNo\"){\n      //   return (\n      //     // <TextField\n      //     //   id = {\"PassportNo\"}\n      //     //   disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\n      //     //   style={{minWidth: 220}}\n      //     //   // defaultValue = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}\n      //     //   value = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}\n      //     //   // onChange = {this.componentIntChange}\n      //     //   onBlur = {this.handleChange}\n      //     //   name = {fieldItem.name}\n      //     //   InputProps={{inputComponent: NumberFormat}}\n      //     // />\n      //     <FormControl>\n      //       <Input\n      //         name = {fieldItem.name}\n      //         value = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}                onChange = {this.componentChange}\n      //         onBlur = {this.passportSeriesChange}\n      //         style={{minWidth: 260, maxWidth: 350, height: 30}}\n      //         disabled={(this.props.formType === \"view\" || this.props.edit === false) ? true : false}\n      //         inputComponent={PassportNoMask}\n      //       />\n      //     </FormControl>\n      //   )\n      // } \n      if (fieldItem.name === \"PassportSeries\") {\n        return React.createElement(FormControl, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 688\n          },\n          __self: this\n        }, React.createElement(Input, {\n          name: fieldItem.name,\n          value: this.state.fieldValue[fieldItem.name] !== undefined ? this.state.fieldValue[fieldItem.name] : \"\",\n          onChange: this.componentChange,\n          onBlur: this.passportSeriesChange,\n          style: {\n            width: \"100%\",\n            height: 30\n          },\n          disabled: this.props.formType === \"view\" || this.props.edit === false ? true : false,\n          inputComponent: PassportSeriesMask,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 689\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(TextField, {\n          id: fieldItem.name,\n          defaultValue: this.state.fieldValue[fieldItem.name] ? this.state.fieldValue[fieldItem.name] : \"\",\n          onChange: this.componentChange,\n          onBlur: this.handleChange,\n          name: fieldItem.name,\n          len: fieldItem.len,\n          style: {\n            width: \"100%\"\n          },\n          disabled: this.state.formType === \"view\" || fieldItem.edit === false ? true : false,\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 702\n          },\n          __self: this\n        });\n      }\n    } else if (fieldItem.type === \"DateTime\") {\n      return (// <TextField\n        //   type=\"date\"\n        //   onChange = {this.componentChange}\n        //   onBlur = {this.handleDateTimeChange}\n        //   name = {fieldItem.name}\n        //   style={{minWidth: 200}}\n        //   disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\n        //   defaultValue = {this.parseDate(this.state.fieldValue[fieldItem.name]) ? this.parseDate(this.state.fieldValue[fieldItem.name]) : \"\" }\n        //   InputLabelProps={{\n        //     shrink: true,\n        //   }}\n        //   size=\"small\"\n        // />\n        React.createElement(MuiPickersUtilsProvider, {\n          utils: DateFnsUtils,\n          locale: ruLocale,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 732\n          },\n          __self: this\n        }, React.createElement(DatePicker, {\n          clearable: true,\n          cancelLabel: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\",\n          okLabel: \"\\u041E\\u043A\",\n          clearLabel: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\",\n          invalidDateMessage: \"\\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\",\n          name: fieldItem.name,\n          margin: \"small\",\n          format: \"dd.MM.yyyy\",\n          disabled: this.state.formType === \"view\" || fieldItem.edit === false ? true : false,\n          value: this.state.fieldValue[fieldItem.name] !== undefined ? this.parseDate(this.state.fieldValue[fieldItem.name]) : null,\n          onChange: date => this.handleDateTimeChange(date, fieldItem.name),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 733\n          },\n          __self: this\n        }))\n      );\n    } else if (fieldItem.type === \"Enum\") {\n      return React.createElement(FormControl, {\n        variant: \"outlined\",\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 751\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.handleChange,\n        name: fieldItem.name,\n        input: React.createElement(OutlinedInput, {\n          name: fieldItem.name,\n          labelWidth: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 758\n          },\n          __self: this\n        }),\n        disabled: this.state.formType === \"view\" || fieldItem.edit === false ? true : false,\n        value: this.state.fieldValue[fieldItem.name] ? this.state.fieldValue[fieldItem.name] : \"\",\n        style: {\n          height: 30,\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 755\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 763\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 764\n        },\n        __self: this\n      })), this.getEnumValues(fieldItem.enumDef).map((enumValue, index) => React.createElement(MenuItem, {\n        key: index,\n        value: enumValue.Id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 767\n        },\n        __self: this\n      }, enumValue.Text))));\n    } else if (fieldItem.type === \"Address\") {\n      return React.createElement(Address, {\n        SOAT: this.props.SOAT,\n        countryChange: this.countryChange,\n        regionChange: this.regionChange,\n        districtChange: this.districtChange,\n        Country: this.state.fieldValue.Country,\n        Region: this.state.fieldValue.Region,\n        District: this.state.fieldValue.District,\n        formType: \"edit\",\n        edit: true,\n        formName: \"AdultsIPRSearchForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 780\n        },\n        __self: this\n      });\n    }\n  }\n\n  render() {\n    if (this.state.documentViewForm === null) return React.createElement(LinearProgress, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 796\n      },\n      __self: this\n    }); // else if (!this.props) return <LinearProgress/>\n    // console.log(\"Person STATE\", this.state)\n    // console.log(\"Person PROPS\", this.props)\n\n    return React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 801\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 802\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: this.state.formSize,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 803\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 804\n      },\n      __self: this\n    }, React.createElement(Table, {\n      size: \"small\",\n      id: \"ViewForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 805\n      },\n      __self: this\n    }, this.state.subDocument === false && React.createElement(TableHead, {\n      style: {\n        backgroundColor: \"#D3D3FE\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 807\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      style: {\n        minHeight: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 808\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      style: {\n        color: \"black\",\n        fontSize: 15,\n        minHeight: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 809\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"), React.createElement(TableCell, {\n      style: {\n        color: \"black\",\n        fontSize: 15,\n        minHeight: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 810\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u043F\\u0438\\u0441\\u044C\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 814\n      },\n      __self: this\n    }, this.state.documentViewForm.Form.attributes.map((fieldItem, index) => React.createElement(TableRow, {\n      style: {\n        height: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816\n      },\n      __self: this\n    }, fieldItem.type !== \"Address\" && React.createElement(TableCell, {\n      key: \"Caption\",\n      align: \"left\",\n      style: {\n        maxWidth: 160\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 818\n      },\n      __self: this\n    }, fieldItem.caption), React.createElement(TableCell, {\n      align: \"left\",\n      style: {\n        maxWidth: 160\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826\n      },\n      __self: this\n    }, this.getComponent(fieldItem)))))), this.state.buttons !== null && this.state.buttons.map((button, index) => {\n      return this.getButton(button, index);\n    })))), React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 843\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 844\n      },\n      __self: this\n    })), this.state.docList === \"[]\" && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 847\n      },\n      __self: this\n    }, \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"), this.state.docList !== null && this.state.docList !== \"[]\" && React.createElement(GridForm, {\n      key: \"grid form\",\n      process_id: this.state.process_id,\n      session_id: this.state.session_id,\n      taskID: this.state.taskID,\n      userId: this.state.userId,\n      organizationId: this.state.organizationId,\n      userRole: this.state.userRole,\n      docList: this.state.docList,\n      size: this.state.size,\n      page: this.state.page,\n      Form: this.state.documentViewForm.Form,\n      gridFormButtons: this.state.gridFormButtons,\n      rowsPageChange: this.rowsPageChange,\n      sendFieldValues: this.sendFieldValues,\n      handleCloseCurrentTab: this.handleCloseCurrentTab,\n      clearTabData: this.clearTabData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 850\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Person;","map":{"version":3,"sources":["C:\\Users\\SERGO\\Desktop\\ismse\\src\\components\\Person\\Person.jsx"],"names":["React","Grid","Card","Table","TableHead","TableRow","TableBody","TableCell","LinearProgress","TextField","Button","Select","MenuItem","FormControl","OutlinedInput","GridForm","Address","swal","Input","MaskedInput","MuiPickersUtilsProvider","DatePicker","DateFnsUtils","ruLocale","PassportSeriesMask","props","inputRef","other","ref","inputElement","PassportNoMask","showScanComponent","Person","Component","constructor","componentChange","event","fieldValue","state","maxLength","checkLength","target","name","value","length","maxValue","substring","setState","handleChange","subDocument","changeSubDocument","buttonClick","currentTarget","filterDocument","attributes","getFieldValues","commandJson","commandType","session_id","process_id","taskID","docDefId","documentViewForm","Form","variables","userAction","doc","JSON","stringify","userId","userRole","size","page","console","log","sendFieldValues","createDocument","getFieldValuesToCreateDoc","clearTabData","createDocumentNRSZ","getFieldValuesNRSZ","age","getPersonAge","Adult","docNRSZ","regionNo","districtNo","adult","checkForEmptyFields","docId","documentViewFormData","id","updateDocument","countryChange","regionChange","districtChange","passportSeriesChange","trim","organizationId","enumData","buttons","gridFormButtons","formType","formSize","docList","ws","bind","rowsPerPageChange","rowsPageChange","handleCloseCurrentTab","componentDidMount","setDataFromProps","componentDidUpdate","fstate","undefined","parse","selectedDoc","docAttr","i","type","enumValueText","handleDateTimeChange","date","newDate","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","convertedDate","parseDate","getEnumValues","enumDef","data","getButton","button","index","margin","backgroundColor","height","fontSize","label","key","push","chekForExsistedPersonPassport","swAlert","Passport","fetch","headers","method","body","then","response","text","string","document","getUUID","uuidv1","require","icon","ok","click","birthday","ageDifMs","now","getTime","ageDate","fullAge","Math","abs","getUTCFullYear","getComponent","fieldItem","width","edit","len","map","enumValue","Id","Text","SOAT","Country","Region","District","render","minHeight","color","maxWidth","caption"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from '@material-ui/core/Card';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport GridForm from \"../GridForm/GridForm.jsx\";\r\nimport Address from \"../Address/Address.jsx\";\r\n// import NumberFormat from 'react-number-format';\r\n// import PropTypes from 'prop-types';\r\nimport swal from 'sweetalert' // https://sweetalert.js.org/guides/\r\nimport Input from '@material-ui/core/Input';\r\nimport MaskedInput from 'react-text-mask';\r\nimport { MuiPickersUtilsProvider, DatePicker } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\n// function NumberFormatCustom(props) {\r\n//   const {inputRef, onChange, ...other} = props;\r\n\r\n//   return (\r\n//     <NumberFormat\r\n//       {...other}\r\n//       getInputRef={inputRef}\r\n//       onValueChange={values => {\r\n//         onChange({\r\n//           target: {\r\n//             value: values.value,\r\n//           },\r\n//         });\r\n//       }}\r\n//       decimalSeparator={','} \r\n//       isNumericString\r\n//     />\r\n//   );\r\n// }\r\n\r\n// NumberFormatCustom.propTypes = {\r\n//   inputRef: PropTypes.func.isRequired,\r\n//   onChange: PropTypes.func.isRequired,\r\n// }\r\nfunction PassportSeriesMask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={ref => {\r\n        inputRef(ref ? ref.inputElement : null);\r\n      }}\r\n      mask={[/[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/, /[a-zA-z]/]}\r\n      placeholderChar={'\\u2000'}\r\n    // showMask\r\n    />\r\n  );\r\n}\r\nfunction PassportNoMask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={ref => {\r\n        inputRef(ref ? ref.inputElement : null);\r\n      }}\r\n      mask={[/[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/, /[0-9]/]}\r\n      placeholderChar={'\\u2000'}\r\n    // showMask\r\n    />\r\n  );\r\n}\r\nvar showScanComponent = false\r\nclass Person extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      documentViewForm: null,\r\n      documentViewFormData: null,\r\n      subDocument: false,\r\n      fieldValue: {},\r\n      process_id: this.props.process_id,\r\n      session_id: this.props.session_id,\r\n      organizationId: this.props.organizationId,\r\n      taskID: this.props.taskID,\r\n      enumData: [],\r\n      buttons: null,\r\n      gridFormButtons: null,\r\n      userId: this.props.userId,\r\n      userRole: this.props.userRole,\r\n      formType: null,\r\n      formSize: 6,\r\n      docList: null,\r\n      size: this.props.size,\r\n      page: this.props.page,\r\n      ws: null\r\n    }\r\n    this.sendFieldValues = this.sendFieldValues.bind(this)\r\n    this.clearTabData = this.clearTabData.bind(this)\r\n    this.rowsPerPageChange = this.rowsPerPageChange.bind(this)\r\n    this.rowsPageChange = this.rowsPageChange.bind(this)\r\n    this.handleCloseCurrentTab = this.handleCloseCurrentTab.bind(this)\r\n  }\r\n  handleCloseCurrentTab(process_id) {\r\n    this.props.handleCloseCurrentTab(process_id)\r\n  }\r\n\r\n  clearTabData(process_id) {\r\n    this.props.clearTabData(process_id)\r\n  }\r\n  async componentDidMount() {\r\n    console.log(\"PERSON PROPS\", this.props)\r\n    if (this.state.documentViewForm === null) {\r\n      this.setDataFromProps()\r\n    }\r\n  }\r\n  async componentDidUpdate() {\r\n    if (this.state.documentViewForm === null) {\r\n      this.setDataFromProps()\r\n    }\r\n  }\r\n  async setDataFromProps() {\r\n    let fstate = this.state\r\n    fstate.documentViewForm = this.props.documentViewForm\r\n\r\n    fstate.formType = this.props.formType\r\n    fstate.gridFormButtons = this.props.gridFormButtons\r\n    if (this.props.docList !== null && this.props.docList !== \"null\" && this.props.docList !== undefined) {\r\n      fstate.docList = JSON.parse(this.props.docList)\r\n    }\r\n    if (this.props.subDocument !== undefined) {\r\n      fstate.subDocument = this.props.subDocument\r\n      if (this.props.subDocument === true) {\r\n        fstate.formSize = 12\r\n      }\r\n    }\r\n    if (this.props.buttons !== undefined) {\r\n      fstate.buttons = this.props.buttons\r\n    }\r\n\r\n    if (this.props.enumData !== undefined && this.props.enumData !== null) {\r\n      fstate.enumData = this.props.enumData\r\n      if (this.props.selectedDoc !== null && this.props.selectedDoc !== undefined) {\r\n        fstate.documentViewFormData = this.props.selectedDoc\r\n        // console.log(\"SELDOC\", this.props.selectedDoc)\r\n        const docAttr = this.props.selectedDoc.attributes\r\n        for (var i = 0; i < docAttr.length; i++) {\r\n          fstate.fieldValue[docAttr[i].name] = docAttr[i].value\r\n        }\r\n        for (let i = 0; i < docAttr.length; i++) {\r\n          fstate.fieldValue[docAttr[i].name] = docAttr[i].value\r\n          if (this.state.enumData === null) {\r\n            if (docAttr[i].type === \"Enum\") {\r\n              fstate.fieldValue[docAttr[i].name] = docAttr[i].enumValueText\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (this.props.enumData === undefined || this.props.enumData === null) {\r\n      fstate.enumData = null\r\n    }\r\n    this.setState(fstate)\r\n    if (fstate.fieldValue[\"Country\"] === undefined) {\r\n      fstate.fieldValue[\"Country\"] = \"4170000000000\"\r\n    }\r\n    this.setState(fstate)\r\n  }\r\n  sendFieldValues(commandJson) {\r\n    this.props.sendFieldValues(commandJson)\r\n  }\r\n  // passportSeriesChange=(event)=>{\r\n  //   let value = event.target.value\r\n  //   const regex = /[a-zA-z]/\r\n  //   const chars = event.target.value.split('')\r\n  //   const char = chars.pop()\r\n\r\n  //   if(!regex.test(char)){\r\n  //     console.log(\"not valid\", char)\r\n  //   }\r\n  //   else{\r\n  //     let fieldValue = this.state.fieldValue\r\n  //     fieldValue[event.target.name] = value\r\n  //     this.setState({fieldValue: fieldValue})\r\n  //   }\r\n  // }\r\n  componentChange = (event) => {\r\n    // console.log(\"TARGET\", event.target)\r\n    let fieldValue = this.state.fieldValue\r\n    let maxLength = this.checkLength(event.target.name)\r\n    // console.log(\"MAXL\", event.target.name, maxLength)\r\n    if (event.target.value.length > maxLength) {\r\n      let maxValue = event.target.value.substring(0, maxLength)\r\n      fieldValue[event.target.name] = maxValue\r\n      this.setState({ fieldValue: fieldValue })\r\n    }\r\n  }\r\n  checkLength(name) {\r\n    for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\r\n      if (name === this.state.documentViewForm.Form.attributes[i].name) {\r\n        return this.state.documentViewForm.Form.attributes[i].maxLength\r\n      }\r\n    }\r\n  }\r\n  handleChange = (event) => {\r\n    let fieldValue = this.state.fieldValue\r\n    fieldValue[event.target.name] = event.target.value\r\n    this.setState({ fieldValue: fieldValue })\r\n    if (this.state.subDocument === true) {\r\n      this.props.changeSubDocument(event.target.name, event.target.value)\r\n    }\r\n  }\r\n  handleDateTimeChange(date, name) {\r\n    // console.log(\"EV\", date, name)\r\n    let fieldValue = this.state.fieldValue\r\n    if (date !== null) {\r\n      var newDate = new Date(date)\r\n      var dd = String(newDate.getDate()).padStart(2, '0')\r\n      var mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\r\n      var yyyy = newDate.getFullYear()\r\n      var convertedDate = String(dd + '.' + mm + '.' + yyyy)\r\n      // console.log(\"CDATE\", convertedDate)\r\n      fieldValue[name] = convertedDate\r\n      if (this.state.subDocument === true) this.props.changeSubDocument(name, convertedDate)\r\n      this.setState({ fieldValue: fieldValue })\r\n    }\r\n    else {\r\n      fieldValue[name] = undefined\r\n      if (this.state.subDocument === true) this.props.changeSubDocument(name, convertedDate)\r\n      this.setState({ fieldValue: fieldValue })\r\n    }\r\n\r\n    // let fieldValue = this.state.fieldValue\r\n    // var newDate = new Date(event.target.value)\r\n    // var dd = String(newDate.getDate()).padStart(2, '0')\r\n    // var mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\r\n    // var yyyy = newDate.getFullYear()\r\n    // var convertedDate = String(dd + '.' + mm + '.' + yyyy)\r\n    // fieldValue[event.target.name] = convertedDate\r\n    // if (this.state.subDocument === true)  this.props.changeSubDocument(event.target.name, convertedDate)\r\n    // this.setState({fieldValue: fieldValue})\r\n  }\r\n  parseDate(date) {\r\n    // Parsing DAteTime to appropriate format\r\n    if (date !== undefined && date !== null) {\r\n      var dd = date.substring(0, 2)\r\n      var mm = date.substring(3, 5)\r\n      var yyyy = date.substring(6, 10)\r\n      var convertedDate = String(yyyy + '-' + mm + '-' + dd)\r\n      var newDate = new Date(convertedDate) // \"2017-01-26\"\r\n      dd = String(newDate.getDate()).padStart(2, '0')\r\n      mm = String(newDate.getMonth() + 1).padStart(2, '0') //January is 0!\r\n      yyyy = newDate.getFullYear()\r\n      convertedDate = yyyy + '-' + mm + '-' + dd\r\n    }\r\n    // console.log(\"DATE\", convertedDate)\r\n    return convertedDate\r\n  }\r\n  getEnumValues(enumDef) {\r\n    // Get items to show in \"Select\" component\r\n    // console.log(\"ENUM value search\", this.state.enumData)\r\n    for (let i = 0; i < this.state.enumData.length; i++)\r\n      if (this.state.enumData[i].enumDef === enumDef) {\r\n        return this.state.enumData[i].data;\r\n      }\r\n    return null\r\n  }\r\n  rowsPerPageChange(size) {\r\n    // Hendler of selected amount of rows to show on Table form\r\n    const filterDocument = { attributes: this.getFieldValues() }\r\n    const commandJson =\r\n    {\r\n      commandType: \"completeTask\",\r\n      session_id: this.state.session_id,\r\n      process_id: this.state.process_id,\r\n      taskID: this.state.taskID,\r\n      docDefId: this.state.documentViewForm.Form.docDefId,\r\n      variables: {\r\n        userAction: { value: \"findDocument\" },\r\n        doc: { value: JSON.stringify(filterDocument) },\r\n        size: { value: size },\r\n        page: { value: 1 }\r\n      }\r\n    }\r\n    this.sendFieldValues(commandJson)\r\n  }\r\n  getButton(button, index) {\r\n    // Create buttons related to form\r\n    if (button.name === \"attachDocument\")\r\n      return (\r\n        showScanComponent = true\r\n      )\r\n    else\r\n      return (\r\n        <Button\r\n          name={button.name}\r\n          variant=\"outlined\"\r\n          style={{\r\n            margin: 3,\r\n            backgroundColor: button.backgroundColor,\r\n            height: 32,\r\n            fontSize: 12\r\n          }}\r\n          onClick={this.buttonClick}\r\n          value={button.name}\r\n        >\r\n          {button.label}\r\n        </Button>\r\n      )\r\n  }\r\n  getFieldValuesNRSZ() {\r\n    // Collect data to create document in NRSZ DB\r\n    var attributes = {}\r\n    // console.log(\"Docview form GET\", this.state.documentViewForm)\r\n    for (var key in this.state.fieldValue) {\r\n      if (key !== \"Country\" && key !== \"Region\" && key !== \"District\") {\r\n        if (key === \"Date_of_Issue\" || key === \"Date_of_Birth\") {\r\n          attributes[key] = this.parseDate(this.state.fieldValue[key])\r\n        }\r\n        else attributes[key] = this.state.fieldValue[key]\r\n      }\r\n    }\r\n    // console.log(\"Variables\", attributes)\r\n    return attributes\r\n  }\r\n  getFieldValues() {\r\n    // Collect all data from form fields\r\n    var attributes = []\r\n    // console.log(\"Docview form GET\", this.state.documentViewForm)\r\n    for (var key in this.state.fieldValue) {\r\n      if (key !== \"Country\" && key !== \"Region\" && key !== \"District\") {\r\n        for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\r\n          if (key === this.state.documentViewForm.Form.attributes[i].name) {\r\n            attributes.push({\r\n              name: this.state.documentViewForm.Form.attributes[i].name,\r\n              value: this.state.fieldValue[key],\r\n              type: this.state.documentViewForm.Form.attributes[i].type,\r\n            })\r\n          }\r\n        }\r\n      }\r\n      // console.log(\"item\",key)\r\n    }\r\n    // console.log(\"Variables\", attributes)\r\n    return attributes\r\n  }\r\n  getFieldValuesToCreateDoc() {\r\n    // Collect all data from form fields\r\n    var attributes = []\r\n    // console.log(\"Docview form GET\", this.state.documentViewForm)\r\n    for (var key in this.state.fieldValue) {\r\n      if (key !== \"IIN\") {\r\n        for (let i = 0; i < this.state.documentViewForm.Form.attributes.length; i++) {\r\n          if (key === this.state.documentViewForm.Form.attributes[i].name) {\r\n            attributes.push({\r\n              name: this.state.documentViewForm.Form.attributes[i].name,\r\n              value: this.state.fieldValue[key],\r\n              type: this.state.documentViewForm.Form.attributes[i].type,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return attributes\r\n  }\r\n  checkForEmptyFields(commandJson) {\r\n    // Controls on obligated fields\r\n    if (this.state.fieldValue[\"Last_Name\"] !== \"\" && this.state.fieldValue[\"Last_Name\"] !== undefined) {\r\n      if (this.state.fieldValue[\"Date_of_Birth\"] !== \"01.01.1970\" && this.state.fieldValue[\"Date_of_Birth\"] !== undefined) {\r\n        if (this.state.fieldValue[\"Sex\"] !== null && this.state.fieldValue[\"Sex\"] !== undefined) {\r\n          if (this.state.fieldValue[\"FamilyState\"] !== null && this.state.fieldValue[\"FamilyState\"] !== undefined) {\r\n            if (this.state.fieldValue[\"PassportType\"] !== null && this.state.fieldValue[\"PassportType\"] !== undefined) {\r\n              // if(this.state.fieldValue[\"PassportSeries\"] !== \"\" && this.state.fieldValue[\"PassportSeries\"] !== undefined){\r\n              //   if(this.state.fieldValue[\"PassportNo\"] !== \"\" && this.state.fieldValue[\"PassportNo\"] !== undefined){\r\n              if (this.state.fieldValue[\"Issuing_Authority\"] !== \"\" && this.state.fieldValue[\"Issuing_Authority\"] !== undefined) {\r\n                if (this.state.fieldValue[\"Date_of_Issue\"] !== \"01.01.1970\" && this.state.fieldValue[\"Date_of_Issue\"] !== undefined) {\r\n                  if (this.state.fieldValue[\"Region\"] !== null && this.state.fieldValue[\"Region\"] !== undefined) {\r\n                    if (this.state.fieldValue[\"District\"] !== null && this.state.fieldValue[\"District\"] !== undefined) {\r\n                      // this.sendFieldValues(commandJson)\r\n                      this.chekForExsistedPersonPassport(commandJson)\r\n                    } else this.swAlert(\"Пожалуйста заполните поле \\\"Район\\\"\")\r\n                  } else this.swAlert(\"Пожалуйста заполните поле \\\"Область\\\"\")\r\n                } else this.swAlert(\"Пожалуйста заполните поле \\\"Дата выдачи\\\"\")\r\n              } else this.swAlert(\"Пожалуйста заполните поле \\\"Выдавший орган\\\"\")\r\n              //   }else this.swAlert(\"Пожалуйста заполните поле \\\"Номер\\\"\")\r\n              // }else this.swAlert(\"Пожалуйста заполните поле \\\"Серия\\\"\")\r\n            } else this.swAlert(\"Пожалуйста заполните поле \\\"Типы удостоверяющих документов\\\"\")\r\n          } else this.swAlert(\"Пожалуйста заполните поле \\\"Семейное положение\\\"\")\r\n        } else this.swAlert(\"Пожалуйста заполните поле \\\"Пол\\\"\")\r\n      } else this.swAlert(\"Пожалуйста заполните поле \\\"Дата рождения\\\"\")\r\n    } else this.swAlert(\"Пожалуйста заполните поле \\\"Фамилия\\\"\")\r\n  }\r\n  async chekForExsistedPersonPassport(commandJson) {\r\n    var Passport = { attributes: [{ name: \"PassportNo\", value: this.state.fieldValue[\"PassportNo\"], type: \"Text\" }] }\r\n    await fetch(\"api/Document/FilterDocumentsByDefId?defId=\" + this.state.documentViewForm.Form.docDefId + \"&size=10&page=1&userId=\" + this.state.userId, {\r\n      headers: {\r\n        \"Accept\": \"application/x-www-form-urlencoded\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(Passport),\r\n      // mode: 'no-cors'\r\n    })\r\n      .then(response => {\r\n        console.log(\"CHK PASPORT\", response)\r\n        response.text().then(string => {\r\n          var document = JSON.parse(string)\r\n          if (document.length === 0) {\r\n            this.clearTabData(this.state.process_id)\r\n            this.sendFieldValues(commandJson)\r\n          }\r\n          else this.swAlert(\"Гражданин с таким номером пасспорта уже существует!\")\r\n          // console.log(\"RESPONSE\", document)\r\n        })\r\n      })\r\n  }\r\n  getUUID() {\r\n    const uuidv1 = require(\"uuid/v1\")\r\n    return uuidv1()\r\n  }\r\n  swAlert(text) {\r\n    return (\r\n      swal({\r\n        text: text,\r\n        icon: \"warning\",\r\n        buttons: { ok: \"Ок\" },\r\n        // dangerMode: true,\r\n      })\r\n        .then((click) => {\r\n          if (click === \"ok\") {\r\n            console.log(\"CLICK OK\", click)\r\n          }\r\n        })\r\n    )\r\n  }\r\n  getPersonAge() {\r\n    var birthday = new Date(this.parseDate(this.state.fieldValue[\"Date_of_Birth\"]))\r\n    var ageDifMs = Date.now() - birthday.getTime()\r\n    var ageDate = new Date(ageDifMs); // miliseconds from epoch\r\n    var fullAge = Math.abs(ageDate.getUTCFullYear() - 1970)\r\n    console.log(\"AGE\", fullAge)\r\n    return fullAge\r\n  }\r\n  buttonClick = (event) => {\r\n    // console.log(\"Event\", event.currentTarget.name)\r\n    if (event.currentTarget.name === \"findDocument\") {\r\n      const filterDocument = { attributes: this.getFieldValues() }\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        docDefId: this.state.documentViewForm.Form.docDefId,\r\n        variables: {\r\n          userAction: { value: \"findDocument\" },\r\n          doc: { value: JSON.stringify(filterDocument) },\r\n          userId: { value: this.state.userId },\r\n          userRole: { value: this.state.userRole },\r\n          size: { value: 10 },\r\n          page: { value: 1 }\r\n        }\r\n      }\r\n      console.log(\"button findDocument Person: \", commandJson)\r\n      this.sendFieldValues(commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"createDocument\") {\r\n      const createDocument = { attributes: this.getFieldValuesToCreateDoc() }\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        variables: {\r\n          userAction: { value: \"createDocument\" },\r\n          doc: { value: JSON.stringify(createDocument) },\r\n          userId: { value: this.state.userId },\r\n          userRole: { value: this.state.userRole }\r\n        }\r\n      }\r\n      console.log(\"Create Document: \", commandJson)\r\n      this.clearTabData(this.state.process_id)\r\n      // this.setState({documentViewForm: null})\r\n      this.sendFieldValues(commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"saveDocument\") {\r\n      const createDocumentNRSZ = this.getFieldValuesNRSZ()\r\n      const createDocument = { attributes: this.getFieldValues() }\r\n      let age = this.getPersonAge()\r\n      const Adult = (age >= 18) ? \"True\" : \"False\"\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        taskID: this.state.taskID,\r\n        variables: {\r\n          userAction: { value: \"saveDocument\" },\r\n          docNRSZ: { value: JSON.stringify(createDocumentNRSZ) },\r\n          doc: { value: JSON.stringify(createDocument) },\r\n          userId: { value: this.state.userId },\r\n          userRole: { value: this.state.userRole },\r\n          docDefId: { value: this.state.documentViewForm.Form.docDefId },\r\n          regionNo: { value: this.state.fieldValue[\"Region\"] },\r\n          districtNo: { value: this.state.fieldValue[\"District\"] },\r\n          adult: { value: Adult }\r\n        }\r\n      }\r\n      console.log(\"button saveDocument: \", commandJson)\r\n      // this.clearTabData(this.state.process_id)\r\n      this.checkForEmptyFields(commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"deleteDocument\") {\r\n      // const filterDocument = {attributes: this.getFieldValues()}\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        variables: {\r\n          userAction: { value: \"deleteDocument\" },\r\n          docId: { value: this.state.documentViewFormData.id },\r\n          userId: { value: this.state.userId },\r\n          userRole: { value: this.state.userRole }\r\n        }\r\n      }\r\n      console.log(\"button deleteDocument: \", commandJson)\r\n      this.sendFieldValues(commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"updateDocument\") {\r\n      const updateDocument = { attributes: this.getFieldValues() }\r\n      let age = this.getPersonAge()\r\n      const Adult = (age >= 18) ? \"True\" : \"False\"\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        variables: {\r\n          userAction: { value: \"updateDocument\" },\r\n          doc: { id: { value: this.state.documentViewFormData.id }, value: JSON.stringify(updateDocument) },\r\n          userId: { value: this.state.userId },\r\n          userRole: { value: this.state.userRole },\r\n          adult: { value: Adult }\r\n        }\r\n      }\r\n      console.log(\"button updateDocument: \", commandJson)\r\n      this.sendFieldValues(commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"cancel\") {\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        variables: {\r\n          userAction: { value: \"cancel\" },\r\n          docId: { value: \"null\" }\r\n        }\r\n      }\r\n      this.sendFieldValues(commandJson)\r\n      // this.clearTabData(this.state.process_id)\r\n      // this.closeTab(this.state.process_id)\r\n      console.log(\"Button cancel\", commandJson)\r\n    }\r\n    else if (event.currentTarget.name === \"back\") {\r\n      const commandJson =\r\n      {\r\n        commandType: \"completeTask\",\r\n        session_id: this.state.session_id,\r\n        process_id: this.state.process_id,\r\n        taskID: this.state.taskID,\r\n        variables: { userAction: { value: \"back\" } }\r\n      }\r\n      this.sendFieldValues(commandJson)\r\n      console.log(\"Button back\")\r\n    }\r\n  }\r\n  rowsPageChange(size, page) {\r\n    // console.log(\"Rows changed: \", size)\r\n    const filterDocument = { attributes: this.getFieldValues() }\r\n    const commandJson =\r\n    {\r\n      commandType: \"completeTask\",\r\n      session_id: this.state.session_id,\r\n      process_id: this.state.process_id,\r\n      taskID: this.state.taskID,\r\n      docDefId: this.state.documentViewForm.Form.docDefId,\r\n      variables: {\r\n        userAction: { value: \"findDocument\" },\r\n        doc: { value: JSON.stringify(filterDocument) },\r\n        size: { value: size },\r\n        page: { value: page }\r\n      }\r\n    }\r\n    // console.log(\"JSON Collected: \", commandJson)\r\n    this.sendFieldValues(commandJson)\r\n  }\r\n  countryChange = (event) => {\r\n    let fieldValue = this.state.fieldValue\r\n    fieldValue[event.target.name] = event.target.value\r\n    fieldValue[\"Region\"] = null\r\n    fieldValue[\"District\"] = null\r\n    // console.log(\"Country selected\", event.target.name)\r\n    this.setState({ fieldValue: fieldValue })\r\n  }\r\n  regionChange = (event) => {\r\n    let fieldValue = this.state.fieldValue\r\n    fieldValue[event.target.name] = event.target.value\r\n    fieldValue[\"District\"] = null\r\n    // console.log(\"Region selected\", event.target.name)\r\n    this.setState({ fieldValue: fieldValue })\r\n  }\r\n  districtChange = (event) => {\r\n    let fieldValue = this.state.fieldValue\r\n    fieldValue[event.target.name] = event.target.value\r\n    // console.log(\"District selected\", event.target.name)\r\n    this.setState({ fieldValue: fieldValue })\r\n  }\r\n  passportSeriesChange = (event) => {\r\n    // event.preventDefault()\r\n    var value = event.target.value.trim()\r\n    // console.log(\"PasportSer\", event.target.value)\r\n    let fieldValue = this.state.fieldValue\r\n    fieldValue[event.target.name] = value\r\n    this.setState({ fieldValue: fieldValue })\r\n    // if(value === \"\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\\u2000\"){\r\n    //   // console.log(\"PasportSer null\")\r\n    //   let fieldValue = this.state.fieldValue\r\n    //   fieldValue[event.target.name] = null\r\n    //   this.setState({fieldValue: fieldValue})\r\n    // }\r\n    // else{\r\n    //   for(let i=value.length; i>0; i--){\r\n    //     let lastChar = value.substring(i -1, i)\r\n    //     // console.log(\"LAST\", lastChar)\r\n    //     if(lastChar !== '\\u2000'){\r\n    //       let fieldValue = this.state.fieldValue\r\n    //       fieldValue[event.target.name] = value\r\n    //       this.setState({fieldValue: fieldValue})\r\n    //       break\r\n    //     }\r\n    //     value = value.substring(0, value.length -1)\r\n    //   }\r\n    // }\r\n  }\r\n  getComponent(fieldItem) {\r\n    // Create form component by it's \"type\"   \r\n    if (fieldItem.type === \"Text\") {\r\n      // if(fieldItem.name === \"PassportNo\"){\r\n      //   return (\r\n      //     // <TextField\r\n      //     //   id = {\"PassportNo\"}\r\n      //     //   disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\r\n      //     //   style={{minWidth: 220}}\r\n      //     //   // defaultValue = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}\r\n      //     //   value = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}\r\n      //     //   // onChange = {this.componentIntChange}\r\n      //     //   onBlur = {this.handleChange}\r\n      //     //   name = {fieldItem.name}\r\n      //     //   InputProps={{inputComponent: NumberFormat}}\r\n      //     // />\r\n      //     <FormControl>\r\n      //       <Input\r\n      //         name = {fieldItem.name}\r\n      //         value = {(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name]: \"\"}                onChange = {this.componentChange}\r\n      //         onBlur = {this.passportSeriesChange}\r\n      //         style={{minWidth: 260, maxWidth: 350, height: 30}}\r\n      //         disabled={(this.props.formType === \"view\" || this.props.edit === false) ? true : false}\r\n      //         inputComponent={PassportNoMask}\r\n      //       />\r\n      //     </FormControl>\r\n      //   )\r\n      // } \r\n      if (fieldItem.name === \"PassportSeries\") {\r\n        return (\r\n          <FormControl>\r\n            <Input\r\n              name={fieldItem.name}\r\n              value={(this.state.fieldValue[fieldItem.name] !== undefined) ? this.state.fieldValue[fieldItem.name] : \"\"} onChange={this.componentChange}\r\n              onBlur={this.passportSeriesChange}\r\n              style={{ width: \"100%\", height: 30 }}\r\n              disabled={(this.props.formType === \"view\" || this.props.edit === false) ? true : false}\r\n              inputComponent={PassportSeriesMask}\r\n            />\r\n          </FormControl>\r\n        )\r\n      }\r\n      else {\r\n        return (\r\n          <TextField\r\n            id={fieldItem.name}\r\n            defaultValue={this.state.fieldValue[fieldItem.name] ? this.state.fieldValue[fieldItem.name] : \"\"}\r\n            onChange={this.componentChange}\r\n            onBlur={this.handleChange}\r\n            name={fieldItem.name}\r\n            len={fieldItem.len}\r\n            style={{ width: \"100%\" }}\r\n            disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\r\n            size=\"small\"\r\n          />\r\n        )\r\n      }\r\n    }\r\n\r\n    else if (fieldItem.type === \"DateTime\") {\r\n      return (\r\n        // <TextField\r\n        //   type=\"date\"\r\n        //   onChange = {this.componentChange}\r\n        //   onBlur = {this.handleDateTimeChange}\r\n        //   name = {fieldItem.name}\r\n        //   style={{minWidth: 200}}\r\n        //   disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\r\n        //   defaultValue = {this.parseDate(this.state.fieldValue[fieldItem.name]) ? this.parseDate(this.state.fieldValue[fieldItem.name]) : \"\" }\r\n        //   InputLabelProps={{\r\n        //     shrink: true,\r\n        //   }}\r\n        //   size=\"small\"\r\n        // />\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils} locale={ruLocale}>\r\n          <DatePicker\r\n            clearable\r\n            cancelLabel=\"Отмена\"\r\n            okLabel=\"Ок\"\r\n            clearLabel=\"Очистить\"\r\n            invalidDateMessage=\"неверный формат\"\r\n            name={fieldItem.name}\r\n            margin=\"small\"\r\n            format=\"dd.MM.yyyy\"\r\n            disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\r\n            value={(this.state.fieldValue[fieldItem.name] !== undefined) ? this.parseDate(this.state.fieldValue[fieldItem.name]) : null}\r\n            onChange={date => this.handleDateTimeChange(date, fieldItem.name)}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      )\r\n    }\r\n    else if (fieldItem.type === \"Enum\") {\r\n      return (\r\n        <FormControl\r\n          variant=\"outlined\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <Select\r\n            onChange={this.handleChange}\r\n            name={fieldItem.name}\r\n            input={<OutlinedInput name={fieldItem.name} labelWidth={0} />}\r\n            disabled={(this.state.formType === \"view\" || fieldItem.edit === false) ? true : false}\r\n            value={(this.state.fieldValue[fieldItem.name]) ? this.state.fieldValue[fieldItem.name] : \"\"}\r\n            style={{ height: 30, width: \"100%\" }}\r\n          >\r\n            <MenuItem value={null}>\r\n              <em></em>\r\n            </MenuItem>\r\n            {this.getEnumValues(fieldItem.enumDef).map((enumValue, index) => (\r\n              <MenuItem\r\n                key={index}\r\n                value={enumValue.Id}\r\n              >\r\n                {enumValue.Text}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      )\r\n    }\r\n    else if (fieldItem.type === \"Address\") {\r\n      return (\r\n        <Address\r\n          SOAT={this.props.SOAT}\r\n          countryChange={this.countryChange}\r\n          regionChange={this.regionChange}\r\n          districtChange={this.districtChange}\r\n          Country={this.state.fieldValue.Country}\r\n          Region={this.state.fieldValue.Region}\r\n          District={this.state.fieldValue.District}\r\n          formType={\"edit\"}\r\n          edit={true}\r\n          formName={\"AdultsIPRSearchForm\"}\r\n        />\r\n      )\r\n    }\r\n  }\r\n  render() {\r\n    if (this.state.documentViewForm === null) return <LinearProgress />\r\n    // else if (!this.props) return <LinearProgress/>\r\n    // console.log(\"Person STATE\", this.state)\r\n    // console.log(\"Person PROPS\", this.props)\r\n    return (\r\n      <Grid>\r\n        <Grid container direction=\"row\" justify=\"flex-start\" spacing={1}>\r\n          <Grid item xs={this.state.formSize}>\r\n            <Card>\r\n              <Table size=\"small\" id=\"ViewForm\">\r\n                {this.state.subDocument === false &&\r\n                  <TableHead style={{ backgroundColor: \"#D3D3FE\" }}>\r\n                    <TableRow style={{ minHeight: 50 }}>\r\n                      <TableCell style={{ color: \"black\", fontSize: 15, minHeight: 50 }}>Наименование</TableCell>\r\n                      <TableCell style={{ color: \"black\", fontSize: 15, minHeight: 50 }}>Запись</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                }\r\n                <TableBody>\r\n                  {this.state.documentViewForm.Form.attributes.map((fieldItem, index) => (\r\n                    <TableRow style={{ height: 30 }}>\r\n                      {fieldItem.type !== \"Address\" &&\r\n                        <TableCell\r\n                          key=\"Caption\"\r\n                          align=\"left\"\r\n                          style={{ maxWidth: 160 }}\r\n                        >\r\n                          {fieldItem.caption}\r\n                        </TableCell>\r\n                      }\r\n                      <TableCell\r\n                        align=\"left\"\r\n                        style={{ maxWidth: 160 }}\r\n                      >\r\n                        {this.getComponent(fieldItem)}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n              {this.state.buttons !== null &&\r\n                this.state.buttons.map((button, index) => {\r\n                  return this.getButton(button, index)\r\n                })}\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid>\r\n          <br></br>\r\n        </Grid>\r\n        {this.state.docList === \"[]\" &&\r\n          <div>Нет данных</div>\r\n        }\r\n        {this.state.docList !== null && this.state.docList !== \"[]\" &&\r\n          <GridForm key=\"grid form\"\r\n            process_id={this.state.process_id}\r\n            session_id={this.state.session_id}\r\n            taskID={this.state.taskID}\r\n            userId={this.state.userId}\r\n            organizationId={this.state.organizationId}\r\n            userRole={this.state.userRole}\r\n            docList={this.state.docList}\r\n            size={this.state.size}\r\n            page={this.state.page}\r\n            Form={this.state.documentViewForm.Form}\r\n            gridFormButtons={this.state.gridFormButtons}\r\n            rowsPageChange={this.rowsPageChange}\r\n            sendFieldValues={this.sendFieldValues}\r\n            handleCloseCurrentTab={this.handleCloseCurrentTab}\r\n            clearTabData={this.clearTabData}\r\n          >\r\n          </GridForm>\r\n        }\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nexport default Person"]},"metadata":{},"sourceType":"module"}